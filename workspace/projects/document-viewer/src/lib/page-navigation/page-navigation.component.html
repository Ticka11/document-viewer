<div
  *ngIf="thumbnails && thumbnails.length > 1"
  (wheel)="scrollThumbnail($event, inputRange)"
  class="navigation-container"
>
  <div class="form-group number-input d-flex flex-row">
    <!-- confirm pages reorder -->
    <!-- <button
      class="circle btn-custom"
      (click)="reorderPages(singleDocument.file._id, true)"
    >
      <img
        width="15px"
        height="15px"
        [src]="documentActionsSrc.reorderPages"
        alt=""
      />
    </button> -->
    <!-- <input
      (keyup)="searchPage(+page.value)"
      #page
      type="number"
      class="form-control"
      placeholder="#"
      [(ngModel)]="pageNumber"
      name="pageNumber"
      id="pageNumber"
      pattern="-?[0-9]*(\.[0-9]+)?"
      max="{{ thumbnails.length - 1 }}"
      min="1"
    /> -->
  </div>
  <div class="shadow-over-top"></div>
  <div
    [ngStyle]="{ height: navigationConfig.containerHeight }"
    #thumbnailContainer
    class="thumbnail-container d-inline-flex flex-column align-items-center"
  >
    <!-- single doc thumbs -->
    <!-- <div *ngIf="!multipleDocs">
      <div
        *ngFor="let image of thumbnails; index as i"
        (click)="changePage(i + 1, true, image)"
        #thumbnailImage
        id="img-{{ i + 1 }}"
        style="position: relative"
      >
        <img
          appLazyLoad
          [imageObj]="image"
          [src]="image.src"
          width="100%"
          [ngClass]="pageNumber === i + 1 ? 'active-thumbnail' : ''"
          class="thumbnail"
          [style]="{ marginBottom: navigationConfig.imageMargin }"
        />
        <div class="spinner" *ngIf="!image.show">
          <div
            style="display: inline-flex"
            class="spinner-border"
            role="loading"
          >
            <span class="sr-only">Loading...</span>
          </div>
        </div>
        <span
          class="page-number"
          [ngClass]="pageNumber === i + 1 ? 'active-page-number' : ''"
          [ngStyle]="{ bottom: navigationConfig.imageMargin + 'px' }"
        >
          {{ i + 1 }}
        </span>
        <span class="important-page mark" *ngIf="image.isImportant"></span>
        <span
          class="important-page search"
          *ngIf="image.hasSearchedText"
        ></span>
      </div>
    </div> -->

    <!-- multiple docs thumbs -->
    <ng-container
      *ngFor="
        let doc of multipleDocsThumbs;
        index as docIndex;
        last as isLast;
        first as isFirst
      "
    >
      <div
        cdkDropList
        (cdkDropListDropped)="drop($event, doc, docIndex)"
        [ngStyle]="{
          border:
            doc[0]['thumbColor'] === openedDocColor
              ? '3px solid ' + doc[0]['thumbColor']
              : '3px solid ' + doc[0]['thumbColor'] + '7d',
          'margin-top': isFirst ? '22px' : ''
        }"
        class="thumb-container"
        id="container-{{ doc[0]['fileId'] }}"
        (mouseover)="showSettings(doc[0], doc[0]['fileId'])"
        (mouseout)="hideSettings(doc[0]['fileId'])"
        *ngIf="doc && doc[0]"
      >
        <div
          *ngFor="let image of doc; index as i"
          (click)="changePage(getPageNum(docIndex) + i + 1, true, image)"
          #thumbnailImage
          class="thumb-image"
          [id]="
            !multipleDocsThumbs[docIndex - 1]
              ? 'img-' + +(i + 1)
              : 'img-' + +(getPageNum(docIndex) + i + 1)
          "
        >
          <img
            cdkDrag
            appLazyLoad
            [imageObj]="image"
            [src]="image.src"
            width="100%"
            [ngClass]="
              pageNumber === getPageNum(docIndex) + i + 1
                ? 'active-thumbnail'
                : ''
            "
            class="thumbnail"
            [style]="{
              marginBottom: navigationConfig.imageMargin
            }"
          />
          <div class="spinner" *ngIf="!image.show">
            <div class="spinner-border d-inline-flex" role="loading">
              <span class="sr-only">Loading...</span>
            </div>
          </div>
          <span
            class="page-number"
            [ngClass]="
              pageNumber === getPageNum(docIndex) + i + 1
                ? 'active-page-number'
                : ''
            "
            [ngStyle]="{ bottom: navigationConfig.imageMargin + 'px' }"
          >
            <span *ngIf="multipleDocsThumbs[docIndex - 1]">
              {{ getPageNum(docIndex) + i + 1 }}
            </span>
            <span *ngIf="!multipleDocsThumbs[docIndex - 1]">
              {{ i + 1 }}
            </span>
          </span>
          <span class="important-page mark" *ngIf="image.isImportant"></span>
          <span
            class="important-page search"
            *ngIf="image.hasSearchedText"
          ></span>
        </div>

        <!-- thumb settings -->
        <div
          id="settings-{{ doc[0]['fileId'] }}"
          #thumbSettings
          class="thumb-settings"
        >
          <div class="d-flex flex-column settings-container">
            <div
              class="d-flex flex-column align-items-center justify-content-center"
            >
              <button
                class="btn-custom circle d-flex justify-content-center"
                [ngClass]="
                  this.documentsList &&
                  thumbnailInfo.fileId === this.documentsList[0].file._id
                    ? 'disabled-btn'
                    : ''
                "
                (click)="reorderDocument(thumbnailInfo, -1, docIndex)"
              >
                <span class="d-flex typcn typcn-chevron-right up"> </span>
              </button>
              <button
                class="btn-custom circle d-flex justify-content-center"
                [ngClass]="
                  this.documentsList &&
                  thumbnailInfo.fileId ===
                    this.documentsList[this.documentsList.length - 1].file._id
                    ? 'disabled-btn'
                    : ''
                "
                (click)="reorderDocument(thumbnailInfo, 1, docIndex)"
              >
                <span class="d-flex typcn typcn-chevron-right down"> </span>
              </button>
            </div>
            <div
              class="d-flex flex-column align-items-center justify-content-center"
            >
              <button
                class="circle btn-custom"
                (click)="separateDocument(thumbnailInfo.fileId)"
              >
                <img
                  width="25px"
                  height="15px"
                  [src]="documentActionsSrc.separateMergedDoc"
                  alt=""
                />
              </button>
              <button
                (click)="
                  downloadDocument(
                    thumbnailInfo.fileId,
                    thumbnailInfo.fileName,
                    thumbnailInfo.originalName
                  )
                "
                class="circle btn-custom"
              >
                <img
                  width="15px"
                  height="15px"
                  [src]="documentActionsSrc.downloadPdfPlain"
                  alt=""
                />
              </button>

              <!-- confirm pages reorder -->
              <button
                *ngIf="doc[0] && doc[0].showReorder"
                class="circle btn-custom reorder-pages"
                (click)="reorderPages(doc[0]['fileId'], true, pageNumber)"
              >
                <img
                  width="15px"
                  height="15px"
                  [src]="documentActionsSrc.reorderPages"
                  alt=""
                />
              </button>
            </div>
          </div>
        </div>
      </div>
    </ng-container>
  </div>
  <div class="shadow-over"></div>

  <div class="wrap">
    <div
      class="bubble-wrap d-flex align-items-center justify-content-center"
      #bubbleWrap
    >
      <span #bubbleValue id="bubble"></span>
    </div>
    <span class="yellow-number value-field min"> 1 </span>
    <span
      [ngClass]="
        inputRange.value == thumbnails.length?.toString()
          ? 'yellow-number'
          : 'white-number'
      "
      class="value-field max"
    >
      {{ thumbnails.length }}
    </span>
    <input
      [ngStyle]="{ width: navigationConfig.containerHeight }"
      type="range"
      #inputRange
      (input)="calculateThumbPosition($event.target?.value)"
      id="range"
      min="1"
      value="1"
      [max]="thumbnails.length"
      step="1"
    />
  </div>
</div>
